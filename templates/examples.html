{% extends "base.html" %} {% block content %}


<header class="hero" style="margin-bottom: 30px;">
  <h1>Examples for SUS</h1>
  <p>
    Explore the various examples demonstrating the features and capabilities of SUS
  </p>
  </div>
</header>

<div class="examples-wrapper">
  <!-- Example 1 -->
  <section class="example">
    <h2>Latency Counting - automatic insertion of registers</h2>
    <div class="example-container">
      <p class="example-description">
        Simply add the reg keyword to any critical path and any paths running parallel to it will get latency added to compensate. 
        <br><br>This is accomplished by adding a 'latency' field to every path.
        

        <img src= "{{ get_url(path="images/insertRegs.png") }}" width="500" height="100" alt="Logo" />
      </p>
      <div class="example-editor small">
        <pre>
          <span class="keyword">module</span> <span class="hdl-module">pow17</span> {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">interface</span> <span class="hdl-module">pow17</span> : <span class="type">int</span> <span class="signal" data-info="Input signal, initial latency: 0 ">i</span> -> <span class="type">int</span> <span class="in-out-variable">o</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="type">int</span> <span class="in-out-variable">i2</span>  = <span class="in-out-variable">i</span>   * <span class="in-out-variable">i</span><br>
          &nbsp;&nbsp;&nbsp;<span class="reg">reg</span> <span class="type">int</span> <span class="in-out-variable">i4</span>  = <span class="in-out-variable">i2</span>  * <span class="in-out-variable">i2</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="type">int</span> <span class="in-out-variable">i8</span>  = <span class="in-out-variable">i4</span>  * <span class="in-out-variable">i4</span><br>
          &nbsp;&nbsp;&nbsp;<span class="reg">reg</span> <span class="type">int</span> <span class="in-out-variable">i16</span> = <span class="in-out-variable">i8</span>  * <span class="in-out-variable">i8</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span class="signal" data-info="Final output, total latency: 2 ">o</span> = <span class="in-out-variable">i16</span> * <span class="in-out-variable">i</span><br>
          }
        </pre>
      </div>
  
      </div>
  </section>

  <!-- Example 2 -->
  <section class="example">
    <h2>Compile-Time Generation of Look-Up Tables</h2>
    <div class="example-container">
      <p class="example-description">
        This module generates a lookup table at compile time, demonstrating
        efficient use of compile-time constants.
      </p>
      <div class="example-editor">
        <pre>
          <span class="keyword">module</span> <span class="hdl-module">fizz_buzz_gen</span> {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">interface</span> <span class="hdl-module">fizz_buzz_gen</span> : <span class="type">int</span> <span class="in-out-variable">v</span> -> <span class="type">int</span> <span class="in-out-variable">fb</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">gen</span> <span class="type">int</span> <span class="variable">FIZZ</span> = <span class="number">888</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">gen</span> <span class="type">int</span> <span class="variable">BUZZ</span> = <span class="number">555</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">gen</span> <span class="type">int</span> <span class="variable">FIZZ_BUZZ</span> = <span class="number">888555</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">gen</span> <span class="type">int</span> <span class="variable">TABLE_SIZE</span> = <span class="number">256</span><br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">gen</span> <span class="type">int</span>[<span class="variable">TABLE_SIZE</span>] <span class="variable">lut</span><br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">for</span> <span class="type">int</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0..</span><span class="variable">TABLE_SIZE</span> {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">gen</span> <span class="type">bool</span> <span class="variable">fizz</span> = <span class="variable">i</span> % <span class="number">3</span> == <span class="number">0</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">gen</span> <span class="type">bool</span> <span class="variable">buzz</span> = <span class="variable">i</span> % <span class="number">5</span> == <span class="number">0</span><br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">gen</span> <span class="type">int</span> <span class="variable">tbl_fb</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span> <span class="variable">fizz</span> & <span class="variable">buzz</span> {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="variable">tbl_fb</span> = <span class="variable">FIZZ_BUZZ</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <span class="keyword">else</span> <span class="keyword">if</span> <span class="variable">fizz</span> {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="variable">tbl_fb</span> = <span class="variable">FIZZ</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <span class="keyword">else</span> <span class="keyword">if</span> <span class="variable">buzz</span> {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="variable">tbl_fb</span> = <span class="variable">BUZZ</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <span class="keyword">else</span> {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="variable">tbl_fb</span> = <span class="variable">i</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="variable">lut</span>[<span class="variable">i</span>] = <span class="variable">tbl_fb</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;}<br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="in-out-variable">fb</span> = <span class="variable">lut</span>[<span class="in-out-variable">v</span>]<br>
          }
        </pre>
      </div>
    </div>
  </section>

  <!-- Example 3 -->
  <section class="example">
    <h2>Multiple Interfaces and Clock Domain Separation</h2>
    <div class="example-container">
      <p class="example-description">
        This example showcases the use of multiple interfaces and visual
        separation of clock domains in an IDE setting.
      </p>
      <div class="example-editor xtra-large">
        <pre>
          <span class="keyword">module</span> <span class="hdl-module">FIFO</span> <span class="operator">#(</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="type">T</span>,<br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="type">int</span> <span class="variable">DEPTH</span>,<br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">// The FIFO may still receive data for several cycles after ready is de-asserted</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="type">int</span> <span class="variable">READY_SLACK</span><br>
          <span class="operator">)</span> {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">state</span> <span class="type">T</span>[<span class="variable">DEPTH</span>] <span class="string">mem</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">state</span> <span class="type">int</span> <span class="number">read_addr</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">state</span> <span class="type">int</span> <span class="string">write_addr</span><br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">initial</span> <span class="number">read_addr</span> = <span class="number">0</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">initial</span> <span class="string">write_addr</span> = <span class="number">0</span><br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">domain</span> <span class="operator">push</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">output</span> <span class="type">bool</span> <span class="string">ready</span>'<span class="number">0<br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">interface</span> <span class="hdl-module">push</span> : <span class="type">bool</span> <span class="string">push</span>'<span class="variable">READY_SLACK</span>, <span class="type">T</span> <span class="string">data_in</span>'<span class="variable">READY_SLACK</span><br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">domain</span> <span class="operator">pop</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">interface</span> <span class="hdl-module">pop</span> : <span class="type">bool</span> <span class="number">pop</span> -> <span class="type">bool</span> <span class="number">data_valid</span>, <span class="type">T</span> <span class="number">data_out</span><br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="hdl-module">CrossDomain</span> <span class="hdl-module">write_to_pop</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="hdl-module">write_to_pop</span>.<span class="variable">in</span> = <span class="string">write_addr</span><br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="hdl-module">CrossDomain</span> <span class="hdl-module">read_to_push</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="hdl-module">read_to_push</span>.<span class="variable">in</span> = <span class="number">read_addr</span><br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="hdl-module">CrossDomain</span> <span class="hdl-module">mem_to_pop</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="hdl-module">mem_to_pop</span>.<span class="variable">in</span> = <span class="string">mem</span><br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span> <span class="number">pop</span> {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="number">data_valid</span> = <span class="number">read_addr</span> != <span class="variable">write_to_pop</span>.<span class="string">out</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span> <span class="number">data_valid</span> {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">// Add a pipelining register, because it can usually be fitted to the</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="reg-state-inital">reg</span> <span class="number">data_out</span> = <span class="variable">mem_to_pop</span>.<span class="string">out</span>[<span class="number">read_addr</span>]<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="number">read_addr</span> = (<span class="number">read_addr</span> + <span class="number">1</span>) % <span class="variable">DEPTH</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
          &nbsp;&nbsp;&nbsp;&nbsp;}<br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span> <span class="string">push</span> {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">mem</span>[<span class="string">write_addr</span>] = <span class="string">data_in</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">write_addr</span> = (<span class="string">write_addr</span> + <span class="number">1</span>) % <span class="variable">DEPTH</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;}<br><br>
      
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">// Wrapping subtract</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="type">int</span> <span class="string">space_remaining</span> = (<span class="hdl-module">read_to_push</span>.<span class="string">out</span> - <span class="string">write_addr</span>) % <span class="variable">DEPTH</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">gen</span> <span class="type">int</span> <span class="variable">ALMOST_FULL_TRESHOLD</span> = <span class="variable">READY_SLACK</span> + <span class="number">1</span> <span class="comment">// +1 for the latency reg we introduce here</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="reg-state-inital">reg</span> <span class="type">bool</span> <span class="string">r</span> = <span class="string">space_remaining</span> >  <span class="variable">ALMOST_FULL_TRESHOLD</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="string">ready</span> = <span class="hdl-module">LatencyOffset</span> <span class="operator">#(</span><span class="variable">OFFSET</span>: -<span class="variable">ALMOST_FULL_TRESHOLD</span><span class="operator">)</span>(<span class="string">r</span>)<br>
          }
        </pre>
      </div>
    </div>
  </section>
</div>


{% endblock content %}
